---
layout: post
title: '简单的VIM配置'
date: 2015-03-05
author: wuxiangwei
categories: 工具 Vim
tags: 工具 Vim
---
<br>

## 快捷键

### 基础


gg     
G    
/   
?    
vimgrep    
copen    
c-n    
c-p    
fx    

dd    
dw    
dl    

i    
I    
a    
A    


查看`runtimepath`的路径：`:set runtimepath?`    
如果vim不支持选中即复制，执行`sudo apt-get install vim-gtk`命令    

### 窗口间移动光标

ctrl + w + k/j/h/l

j向下


上下左右


移动到前一个访问的窗口： ctrl + w + p，代码窗口和quickfix窗口是高频访问切换的窗口。

在所有窗口中移动： ctrl + w + w


## 插件

### Tagbar

说明：

1. 标签已排序，不是tag在正文中出现的顺序；
2. 配置了跳转到正文时关闭tagbar的功能；
3. 管理精力，在tagbar中**预览**整体，在正文窗口聚焦某个子标题。

#### 折叠

全部折叠 z + M

全部展开 z + R

单个折叠 z + c (close)

单个展开 z + o (open)

#### 预览

p

不离开tagbar窗口

#### jump

回车，跳转到代码窗口

#### 大窗口

x

#### 退出

q

#### quickfix的影响

使用:cw打开quickfix，在有垂直分割窗口的情况下，quickfix窗口会出现在最右侧窗口的底部。
改用:bo cw打开quickfix，quickfix窗口会出现在整个窗口的底部。

#### leaderf的影响

光标在tagbar窗口时执行leaderf命令，leaderf会将文件在tagbar窗口打开。为减少影响，取消autofocus配置。


### cscope

搜索符号或字符串有两种场景，一种是光标就近搜索，另一种是光标不在待查找字符。第一种使用快捷键，第二种使用`:cs f s`。

#### 准备工作

```shell
find fullpath -name "*.cc" -o -name "*.h" -o -name "*.c" -o -name "*.hpp" > cscope.files
cscope -bkq -i cscope.files
ctags -R
```

修改环境变量：CSCOPE_DB


#### cs f s

Ctrl + \ + s


#### cs f t

Ctrl + \ + t

#### cs f g

转到函数定义的地方

Ctrl + \ +g

#### cs f c

调用该函数的地方

Ctrl + \ +c

### Surround

命令模式：原生命令 + s + text-object

text-object

i 和 a：    

`i` inner object 选中一个object的内部，不包括空格；    
`a` an object 选中一个object，包括空格在内；    

aw a word    
iw inner word     

aw 和 iw的区别：

```
a word

1. a a a a a 
2. aaaaa
```
假设光标在a中，yawppppp 的结果为1，yiwppppp的结果为2

w word字    
p paragraph段落     
s sentence    


d s aw    
y s aw    
c s aw    


Shift + ]    
Shift + [    
Shift + #    
Shift + *    


### ctags插件

**配置**

set tags=tags;    
set autochdir    

在源码目录执行 `ctags -R` 命令。    

**快捷键**


ctrl + ]  
g ctrl + ]  



